/* =========================================
   THE SLENDER SETUP
   ========================================= */
:root {
    /* Change this one number to resize the whole page width */
    --base-width: 45%; 
    
    /* Vertical Heights */
    --title-height: 75px;  
    --nav-height: 60px;     
    --header-gap: 10px;
    --footer-height: 12vh;

    /* DERIVED PIN: The total fixed height of the top section (Header + Toggle + all padding/gaps) */

    /* Calculation breakdown:
    H1 (Header) Height: var(--title-height) + var(--header-gap) (top) + 5px (bottom)
    H2 (Toggle) Height: calc(var(--nav-height) + var(--header-gap))
    Since H2's top is pinned *to* var(--title-height), the total height is:
    (Title Height + Padding) + (Nav Height + Gap) - (Overlap/Shared space)

    We can simplify this by using the 'top' and 'height' of the fixed elements:
    Header ends at: 75px + 10px (header-gap) + 5px (padding-bottom) = 90px (approx)
    Toggle starts at: 75px
    Toggle height: 70px (60px + 10px)
    Total Fixed Height (Bottom of Toggle): 75px (start) + 70px (height) = 145px
    */

    --fixed-top-height: calc(var(--title-height) + var(--nav-height) + var(--header-gap));

    /* Where the content starts scrolling */
    --scroll-start: calc(var(--title-height) + var(--nav-height) + var(--header-gap) + 15px);
}

:root {
    --default-font: "Bocklin", sans-serif;
    --text-font: "Playfair Display", serif;
}

/* Global Colors */
:root {
    --background-color: #E9D9B6;
    --witchflame-red: #9F3F33;
    --cursed-walnut: #4B342C;
    --brown: #7F552B;
}

/* The code below ensures that all elements are sized in this more intuitive way */
* { box-sizing: border-box; }

body.homepage {
    background-image: url("../img/art-nouveau/background.png");
    background-color: var(--background-color);
    background-size: 100% 100%;
    background-attachment: fixed;
    background-repeat: no-repeat;
    overflow: hidden; 
    font-family: var(--default-font);
    color: var(--witchflame-red);
}



/* HIDE the three flat link list items */
.navbar-nav #nav-item-about,
.navbar-nav #nav-item-doc,
.navbar-nav #nav-item-disc {
    /* Using !important here is often necessary to override Bootstrap's flex/display defaults */
    display: none !important;
}

/* SHOW the dropdown group */
.navbar-nav #nav-group-more-compact {
    display: block !important; 
}

/* Ensure Dropdown items fit the aesthetic */
.navbar-nav .dropdown-menu {
    /* Set dropdown background to match the theme color */
    background-color: var(--background-color); 
    border: 2px solid var(--cursed-walnut);
    border-radius: 8px;
    padding: 0;
    min-width: 100%; /* Ensure it's not too wide */
}

.navbar-nav .dropdown-item {
    color: var(--cursed-walnut);
    padding: 8px 15px;
    font-size: 0.9rem;
}

.navbar-nav .dropdown-item:hover {
    background-color: var(--witchflame-red);
    color: var(--background-color);
}

header .navbar .nav-item.dropdown .nav-link {
    /* Style the main "About" button in the dropdown group to match other buttons */
    border: 1px solid var(--cursed-walnut);
    border-radius: 8px;
    color: var(--cursed-walnut);
    padding: 0 15px !important;
}

.introduction { display: contents; }

/* =========================================
   FIXED HEADER (NARROW)
   ========================================= */

/* title box */
.introduction-title {
    position: fixed;
    top: 1vh;
    left: 0; right: 0; margin: 0 auto;
    
    /* APPLY MASTER WIDTH */
    width: var(--base-width);
    height: var(--title-height);
    z-index: 1000;
    
    /* Border & Style */
    border: 2px solid var(--cursed-walnut);
    border-radius: 8px;
    background-color: var(--background-color);
    
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding-bottom: 5px;
}

.introduction-title h1 { 
    font-size: 1.6rem; 
    margin: 5px 0 0 0; 
    color: var(--cursed-walnut);
}
.introduction-title h2 { 
    font-size: 0.9rem; 
    margin: 2px 0 0 0; 
    font-weight: normal; 
    color: var(--cursed-walnut);
}

/* navbar */
.homepage header {
    position: fixed;
    /* Starts immediately below the title (no gap here) */
    top: var(--title-height); 
    
    left: 0; right: 0; margin: 0 auto;
    width: var(--base-width);
    
    /* Must include the gap in its total height */
    height: calc(var(--nav-height) + var(--header-gap));
    
    /* Fill the background gap with the chosen color */
    background-color: var(--background-color); 
    z-index: 900;
    
    /* Push the internal navbar pill down by the gap amount */
    padding-top: var(--header-gap);
    
    display: flex;
    justify-content: center;
    /* IMPORTANT: Align items to the top so they start after the padding */
    align-items: flex-start; 
}

.homepage header .navbar {
    width: 100%;
    height: 100%;
    border: 2px solid var(--cursed-walnut);
    background-color: var(--background-color);
    border-radius: 8px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.homepage header .nav-link {
    padding: 0 15px !important;
    font-size: 0.9rem;
}

/* Change style button and logo color */
.navbar svg path {
    fill: var(--cursed-walnut);
}

.navbar-nav {
    background-color: var(--background-color);
    border-radius: 8px;
}

.navbar-nav .nav-link {
    border: 1px solid var(--cursed-walnut);
    border-radius: 8px;
    color: var(--cursed-walnut);
}

.navbar-nav .nav-link:hover {
  text-decoration: none;
  background-color: var(--witchflame-red);
  color: var(--background-color);
}

.navbar .nav-link.active {
  color: var(--background-color) !important;    /* important! to override the variable --bs-navbar-active-color */
  text-decoration: none;
  background-color: var(--witchflame-red);
}

.navbar .layout-container .layout-button {
    background-color: var(--background-color);
    border: 2px solid var(--cursed-walnut);
    border-radius: 50px;
}

.navbar .layout-container .layout-button:hover {
    background-color: var(--witchflame-red);
}


.navbar .layout-options {
    background-color: var(--background-color);
    border: 2px solid var(--cursed-walnut);
    border-radius: 8px;
}

.trigger-style:hover {
    border-color: var(--witchflame-red);
}

.trigger-style:hover .style-label { 
    color: var(--background-color); 
}

/* scrollable content */

#homepage-content {
    position: fixed;
    top: var(--scroll-start);
    bottom: 12vh;
    left: 0; right: 0; margin: 0 auto;
    
    /* APPLY MASTER WIDTH */
    width: 80%;
    overflow-y: auto;
    overflow-x: hidden;
    
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding-bottom: 30vh;
    padding-right: 10px; /* Space for scrollbar */
}


/* Content Styling */
.carousel-frame-wrapper, 
.introduction p,
.link-documentation p {
    width: 100%;
    flex-shrink: 0;
}

.carousel-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 10px;
    border: 2px solid var(--cursed-walnut);
}

.introduction p, .link-documentation p {
    background-color: var(--background-color);
    padding: 1.5rem;
    text-align: justify;
    font-family: var(--text-font);
    color: var(--cursed-walnut);
    font-size: 1rem;
    margin: 0 auto;
}

.introduction-title h2::after {
  content: none;
}

.link-documentation h2::after {
    background: var(--cursed-walnut);
}

.link-documentation h2 {
    color: var(--cursed-walnut);
}


.footer {
    position: fixed;
    bottom: 3vh; /* Start where the scrolling content ends */
    left: 0;
    right: 0;
    margin: 0 auto;
    width: var(--base-width);
    height: 8vh; /* The space we reserved above */
    
    /* Ensure it has the background to hide the frame */
    background-color: var(--background-color); 
    z-index: 100;
    
    /* Add any other styling needed for the footer content */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--cursed-walnut);
}

footer p, footer a {
    font-family: var(--text-font);

}

/* Scrollbar */
#homepage-content::-webkit-scrollbar { width: 6px; }
#homepage-content::-webkit-scrollbar-track { background: transparent; }
#homepage-content::-webkit-scrollbar-thumb { background-color: var(--cursed-walnut); border-radius: 8px; }

@media (max-width: 768px) {
    
    /* Covers top frame art */
    .introduction-title {
        max-width: none !important; 
        width: 100vw !important; /* Force full width, overriding desktop var */
        top: 0px;
        
        /* Add background and padding to cover the red frame art */
        background-color: var(--background-color) !important;
        padding-top: 25px;
        
        /* Remove desktop border, looks cleaner when it's full width */
        border: none;
        border-radius: 0;
    }


    /* 2. FULL WIDTH HEADER COVERAGE (Covers red frame art below title) */
    .homepage header {
        max-width: none !important; 
        width: 100vw !important; /* Force full width, overriding desktop var */
        
        /* Add background and padding to cover the red frame art */
        background-color: var(--background-color) !important; 
        padding-top: 15px;
        height: auto;
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
        border-bottom: 2px solid var(--cursed-walnut)
    }
    
    /* Ensure the inner navbar container (the pill) is centered and constrained */
    .homepage header .navbar {
        width: 90%; /* Constrain the inner content */
        margin: 0 auto; /* Center the inner content */
        height: auto; 
        
        /* Remove desktop border, looks cleaner */
        border: none;
    }

    .homepage header .nav-link {
        padding: 5px 15px !important; 
        font-size: 0.85rem; 
        flex-shrink: 0;
    }
    
    /* Ensure scrollable content starts below the now-expanded header */
    #homepage-content {
        /* You will need to calculate the new scroll start based on the auto heights. 
           A safer temporary fix is to use a VH value until you can calculate the exact stack height. */
        width: 75%;
    }


    /* For the container that holds the links (the grey pill) */
    .navbar-nav {
      gap: 12px;
    }
    
    .footer {
        /* Ensure footer also goes full width */
        width: 100vw !important;
        left: 0 !important; right: 0 !important; margin: 0;
        bottom: 0 !important;
        height: 12vh;
    }
}



/* exhibition page */

body.eras-page, body.chronological-page {
    background-image: url("../img/art-nouveau/background.png");
    background-color: var(--background-color);
    background-size: 100% 100%;
    background-attachment: fixed;
    background-repeat: no-repeat;
    overflow: hidden; 
    font-family: var(--default-font);
    color: var(--witchflame-red);
}

/* navbar */
header {
    position: fixed;
    top: 0vh;
    left: 0; right: 0; margin: 0 auto;
    width: var(--base-width);
    height: var(--title-height);
    background-color: var(--background-color); 
    z-index: 1000;
    padding-top: var(--header-gap);
    display: flex;
    flex-direction: column;
    justify-content: center;
    /* Align items to the top so they start after the padding */
    align-items: flex-start;
    padding-bottom: 5px;
}

header .navbar {
    width: 100%;
    height: 100%;
    border: 2px solid var(--cursed-walnut);
    background-color: var(--background-color);
    border-radius: 8px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.eras-page header .nav-link, .chronological-page header .nav-link {
    padding: 0 15px !important;
    font-size: 0.9rem;
}

.toggle-frame {
    position: fixed;
    top: var(--title-height); /* positioned after the navbar */
    left: 0; right: 0; margin: 0 auto;
    border: 2px solid var(--cursed-walnut);
    border-radius: 8px;
    
    /* APPLY MASTER WIDTH */
    width: var(--base-width);
    height: calc(var(--nav-height) + var(--header-gap));
    padding-top: var(--header-gap);
    background: var(--background-color);
    gap: 20px;
}

.toggle-pill {
    width: 128px;
    height: calc(var(--nav-height) - 5px);
    border: 2px solid var(--cursed-walnut);
}


.toggle-frame .toggle-knob {
    background-color: none !important;
}

.toggle-frame .toggle-knob img {
    display: none;
}

.toggle-pill .toggle-knob {
    background-image: url('../img/art-nouveau/chronological-toggle.svg');
    background-size: 100% 100%;
    background-repeat: no-repeat;
}

.toggle-frame .toggle-text {
    font-family: var(--default-font);
}

.inactive-icon img {
    display: none;
}

.inactive-icon {
    background-image: url('../img/art-nouveau/era-toggle.svg');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-color: none;
}

/* Ensure all ERA cards have equal height and 4 cards per row */
.page-content {
    position: fixed;
    top: var(--scroll-start);
    bottom: var(--footer-height);
    left: 0; right: 0; margin: 0 auto;
    width: 80%;
    overflow-y: auto;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding-bottom: 20px;
    padding-right: 10px; /* Space for scrollbar */
}

.era-card {
    display: flex;
    flex-direction: column;
    flex: 1 1 100%;
    width: 100%;
    min-width: 0;
    padding: 12px 16px;
    border: 2px solid var(--cursed-walnut);
    border-radius: 16px;
    gap: 12px;
    background: var(--background-color);
    box-sizing: border-box;
    height: 100%;
}

.era-title {
    font-family: var(--default-font);
    color: var(--witchflame-red);
}

.era-description {
    font-family: var(--text-font);
    color: var(--cursed-walnut);
}

/* Text overlay */
.era-item-text {
    color: var(--background-color);
    font-family: var(--text-font);
}


/* chronological page */
.chronology-container {
    background-color: var(--background-color);
}
/* Central vertical line */
.timeline-lines::before {
    background: var(--cursed-walnut);
    transform: translateX(-50%);
    z-index: 1;
}

/* Card */
.card {
    border: 2px solid var(--cursed-walnut);
    border-radius: 8px;
    overflow: hidden;
    width: 500px;
    background: var(--background-color);
    z-index: 3;
}

/* Left-side card (even) image */
.left-card .picture {
    border-radius: 12px 0 0 12px;
    margin: 0 auto;
}

/* Text section fills remaining space */
.text {
    flex: 1;
    padding: 16px;
    display: flex;
    flex-direction: column;
    justify-content: center; /* vertically center the title */
}

.text-wrapper {
    font-size: 24px;
    font-family: var(--default-font);
    color: var(--witchflame-red);
}

.text-wrapper i {
    color: var(--cursed-walnut);
    font-family: var(--text-font);
}

/* Black dot */
.ellipse,
.ellipse-2 {
    width: 20px;
    height: 20px;
    background: var(--cursed-walnut);
    border-radius: 50%;
    position: absolute;
    left: 50%;
    transform: translate(-50%, -50%);
    top: 50%;
    z-index: 0;
}

@media (max-width: 768px) {

    /* Covers top frame art */
    header {
        max-width: none !important; 
        width: 100vw !important; /* Force full width, overriding desktop var */
        top: 0px;
        background-color: var(--background-color) !important;
        padding-top: 25px;
        border: none;
        border-radius: 0;
    }

    .toggle-frame {
        max-width: none !important; 
        flex-direction: row !important;
        width: 100vw !important; /* Force full width, overriding desktop var */
        
        /* Add background and padding to cover the red frame art */
        background-color: var(--background-color) !important; 
        border: none;
        border-radius: 0;
        padding-top: 15px;
        height: auto;
        border-bottom-left-radius: 15px;
        border-bottom-right-radius: 15px;
        border-bottom: 2px solid var(--cursed-walnut)
    }

    
    /* Ensure the inner navbar container (the pill) is centered and constrained */
    .eras-page header .navbar,
    .chronological-page header .navbar {
        width: 90%; /* Constrain the inner content */
        margin: 0 auto; /* Center the inner content */
        height: auto; 
        
        /* Remove desktop border, looks cleaner */
        border: none;
    }

    .eras-page header .nav-link,
    .chronological-page header .nav-link {
        padding: 5px 15px !important; 
        font-size: 0.85rem; 
    }
    
    /* Ensure scrollable content starts below the now-expanded header */
    #homepage-content {
        /* You will need to calculate the new scroll start based on the auto heights. 
           A safer temporary fix is to use a VH value until you can calculate the exact stack height. */
        width: 75%; 
    }

    /* For the container that holds the links (the grey pill) */
    .navbar-nav {
      gap: 12px;
    }
    
    .footer {
        /* Ensure footer also goes full width */
        width: 100vw !important;
        left: 0 !important; right: 0 !important; margin: 0;
        bottom: 0 !important;
        height: 12vh;
    }
    
    /* Center the entire timeline content horizontally */
    .timeline-lines {
        /* Force full width and center children lines */
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center; /* Center all lines */
    }

    /* 2. Make each card line take full width, and stack cards vertically */
    .line {
        width: 100%;
        display: flex;
        justify-content: center; /* Center the card horizontally */
        align-items: flex-start;
        margin-bottom: 20px; /* Add spacing between lines */
    }

    /* 3. Make the card itself responsive and centered */
    .card {
        /* Allow card to shrink, but stop at a readable minimum */
        width: 85%; /* Use a large percentage of the screen width */
        min-width: 250px; /* Don't allow it to shrink below this size */
        /* Center the card if its width is less than 100% of its container */
        margin: 0 auto; 
        /* On mobile, cards should stack their content (image/text) vertically */
        flex-direction: column;
        align-self: center;
    }

    /* OVERRIDE SPECIFICITY TO CENTER CARDS *** */
    .line:nth-child(odd),
    .line:nth-child(even) {
        justify-content: center; /* This overrides the flex-start/flex-end rules */
    }
    
    /* 4. Fix image/text alignment within the card on mobile */
    .card .picture, .card .text {
        width: 100%;
    }

    /* Fix image radius for stacked layout */
    .card .picture {
        /* Remove specific left-side rounding */
        border-radius: 8px 8px 0 0; 
    }
    .left-card .picture {
        /* Override specific left-side rounding for consistency */
        border-radius: 8px 8px 0 0; 
    }


    /* put all captions at the bottom of the images */
    .card.left-card {
    flex-direction: column-reverse;
    }
}

/* toggle height + background
navbar hamburger menu on small screen */