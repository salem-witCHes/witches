/* =========================================
   THEME 4: WINDOWS 95 / RETRO STYLE
   ========================================= */

/* --- 1. Global Variables & Fonts --- */
/* Apply variables to the root or body so they are globally accessible */
:root {
    /* Define Windows 95 Palette */
    --win-teal: #008081;
    --win-grey: #C3C3C3;
    --win-blue: #000181;
    --win-white: #FFFFFF;
    --win-dark-grey: #808080;
    --win-black: #000000;
    --win-text: #1A1A1A;

    /* Override Main CSS Variables */
    --background-color: var(--win-grey);
    --surface-color: var(--win-grey);
    --default-font-color: var(--win-text);
    
    /* CORRECT Windows 95 Font */
    --default-font: 'W95FA';
}

/* Apply global font & background to the whole body (All Pages) */
body {
    background-color: var(--win-teal);
    font-family: var(--default-font);
    
    /* Updated Size from Figma (Pix M 8pt approx 16px) */
    font-size: 16px; 
    
    /* Remove letter-spacing, Windows 95 didn't have it */
    letter-spacing: normal; 
    
    /* Ensure crisp pixel edges */
    image-rendering: pixelated; 
}

/* Remove all rounded corners globally for this theme */
* {
    border-radius: 0 !important;
}
/* Remove the decorative lines generated by :after in main.css */

/* Target 1: Removes line under H2 in the Introduction section (if applicable) */
.introduction-title h2::after {
    content: none !important;
}

/* Target 2: Removes line under H2 in the Documentation/Learn More section */
.documentation-title h2::after {
    content: none !important;
}

/* --- 2. Navbar Styling --- */
.navbar {
    background-color: var(--win-grey);
    border-bottom: 1px solid var(--win-dark-grey);
    box-shadow: inset 1px 1px 0px var(--win-white);
    padding: 2px 2px;
}

.navbar-nav {
    background-color: var(--win-grey);
    gap: 12px;
}

/* Default State */
.nav-link {
    background-color: var(--win-grey);
    color: var(--win-text) !important;
    padding: 10px 20px !important;
    font-family: var(--default-font);
    font-size: 14px;
    
    /* Outset 3D Border */
    box-shadow: inset 2px 2px 0px var(--win-white),
                inset -2px -2px 0px var(--win-dark-grey); 
    border: none;
    transition: none;
    
    /* Important: Needed for the dashed border to position correctly inside */
    position: relative; 
}

/* --- ACTIVE STATE (Stronger Selector to fix text color) --- */
/* Added .navbar to the start to beat main.css specificity */
.navbar .nav-link.active,
.navbar .nav-link:active {
    /* 1. Force Light Grey Background */
    background-color: #E6E6E6 !important;
    
    /* 2. Force Text to Black */
    color: black !important; 
    
    /* 3. Complex Inset Shadow from Figma */
    box-shadow: -2px -2px 0 0 #F0F0F0 inset, 
                2px 2px 0 0 #262626 inset, 
                4px 4px 0 0 #7E7E7E inset, 
                -4px -4px 0 0 #B1B1B1 inset !important;
                
    transform: translate(1px, 1px);
}

/* Re-apply the dashed border logic with the stronger selector */
.navbar .nav-link.active::after {
    content: "";
    position: absolute;
    top: 4px; left: 4px; right: 4px; bottom: 4px; 
    border: 1px dashed #1A1A1A;
    pointer-events: none; 
}

.nav-link:hover {
    background-color: var(--win-grey); 
    text-decoration: none;
}



/* --- 3. Toggle Section --- *//* --- 3. Toggle Section --- */
.toggle-frame {
    background-color: var(--win-teal);
    
    /* Windows 95 Border Style */
   
    
    /* Layout spacing */
    margin-bottom: 20px;
    padding: 12px;
    
    /* --- GAP FIX --- */
    /* Your Main CSS sets 'top' to ~80px. 
       We must override it here because the Win95 navbar is thinner (~53px). */
    top: 53px !important; 
    z-index: 999;
}

.toggle-text {
    font-family: var(--default-font);
    font-size: 16px;
    color: var(--win-text);
    
}
/* Fix: Make the active label bold */
.active-text {
    font-size: 26px !important;
     /* Optional: adds a retro 3D depth to text */
}

/* Customizing the Pill to look like a Windows Well */
.toggle-pill {
    background-color: var(--win-grey); /* White background like a text field */
    
    /* 1. Define the Thickness and Style first */
    border: 2px solid; 
    
    /* 2. Define the colors to create the 3D "Sunken" effect */
    border-top-color: var(--win-white);  /* Top shadow */
    border-left-color: var(--win-white); /* Left shadow */
    border-right-color: var(--win-dark-grey);    /* Right highlight */
    border-bottom-color: var(--win-dark-grey);   /* Bottom highlight */
    
    /* 3. Add the second layer of depth (The black/light-grey outer ring) */
    
}
.toggle-knob {
    /* 1. Change color to Blue */
    background-color: var(--win-blue);
    
    /* 2. Create the 3D "Pop Out" borders */
    border: 2px solid;
    border-top-color: var(--win-white);       /* Light Top */
    border-left-color: var(--win-white);      /* Light Left */
    border-right-color: var(--win-dark-grey); /* Shadow Right */
    border-bottom-color: var(--win-dark-grey);/* Shadow Bottom */
    
    /* 3. Add the sharp black drop shadow for extra depth */
    
    border-radius: 0;
    top: 50% !important;          /* Push top edge to vertical middle */
    transform: translateY(-50%); 
     
}
/* --- 4. Chronology Container --- */
.chronology-container {
    background-color: var(--win-teal);
    padding-top: 40px;
}

.timeline-lines::before {
    background-color: var(--win-teal); 
    width: 4px; 
    border-left: 2px solid var(--win-dark-grey);
    border-right: 2px solid var(--win-white);
}


/* --- 5. Timeline Icons --- */
.ellipse,
.ellipse-2 {
    width: 32px;
    height: 32px;
    background: url("../img/minesweeper-square.svg") center/contain no-repeat;
    border-radius: 0;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
}

/* Mobile override */
@media (max-width: 768px) {
    .ellipse,
    .ellipse-2 {
        background-color: var(--win-teal) !important;
    }
    .line {
        border-left-color: var(--win-grey);
    }
}


/* --- 6. Timeline Cards (FIXED ALIGNMENT) --- */

.card {
    /* 1. The Main Outer Window */
    background-color: var(--win-grey);
    
    /* Classic "Outset" Border (White Top/Left, Black Bot/Right) */
    border-top: 2px solid var(--win-white);
    border-left: 2px solid var(--win-white);
    border-right: 2px solid var(--win-dark-grey);
    border-bottom: 2px solid var(--win-dark-grey);
    
    
    
    padding: 0px; /* Internal spacing between border and content */
    
    /* Layout */
    display: flex;
    align-items: stretch; /* vital: makes image and text same height */
    gap: 0px; /* Space between image and text box */
}

/* --- The Image Area --- */
.picture,
.picture-2 {
    width: 140px; /* Fixed width matching Figma */
    flex-shrink: 0; /* Prevent shrinking */
    
    /* Classic "Inset" Border (Dark Top/Left, White Bot/Right) */
    
    
    background-color: var(--win-white); /* White bg behind image */
    margin: 0; 
}

.picture img, 
.picture-2 img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* --- The Text Container (The Right-side Window Pane) --- */
.text {
    flex-grow: 1; /* Vital: Forces this box to fill ALL remaining space */
    display: flex;
    justify-content: flex-start;
    flex-direction: column;
    padding: 0; /* Remove padding so blue header touches edges */
    
    /* "Inset" Border matching the image style */
    
    
    background: var(--win-grey);
}

/* --- The Blue Header (Title) --- */
.text-wrapper {
    display: flex;
    align-items: center; /* vertically center icon and text */
    gap: 8px; /* space between icon and text */
    background-color: var(--win-blue);
    color: var(--win-white);
    font-family: var(--default-font);
    font-size: 16px;
    padding: 8px;
}
/* The Folder Icon */
.text-wrapper::before {
    content: '';
    width: 16px;
    height: 16px;
    background: url('../img/windows95-folder.svg') no-repeat center/contain;
    display: block; /* inline-block is okay too */
}

/* --- The Grey Body (Date) --- */
/* We style the <i> tag to look like the bottom section */
.text-wrapper i {
    display: block; /* Makes it a block to fill width */
    font-style: normal;
    background-color: var(--win-grey); 
    color: var(--win-text);
    
    
    /* MAGIC TRICK: Negative margins pull the grey box 
       over the blue container's padding to touch the edges */
    margin-left: -8px; 
    margin-right: -8px;
    margin-bottom: -8px; /* Push to very bottom */
    margin-top: 16 px;     /* Push away from title */
    
    /* Add padding back to the text inside */
    padding: 8px 12px;
    
    /* Add a white divider line between Blue and Grey */
    border-top: 2px solid var(--win-dark-grey); 
    
    /* Ensure it fills vertical space */
    flex-grow: 1; 
}
.text i {
    display: block;
    font-style: normal;
    background-color: var(--win-grey);
    color: var(--win-text);
    padding: 8px 12px;
    margin-top: 12px; /* space from the blue header */
}


/* --- 7. Footer --- */
footer {
    background-color: var(--win-grey);
    color: var(--win-text);
    border-top: 2px solid var(--win-white);
    font-family: var(--default-font);
    font-size: 12px;
}

.footer-separator {
    background: var(--win-dark-grey);
    border-bottom: 1px solid var(--win-white);
}

/* --- 8. ERA CARDS STYLE (FIXED) --- */

/* Era Card Container (The Outer Window) */
/* --- 8. ERA CARDS STYLE (FIXED) --- */

/* Era Card Container (The Outer Window) */
.era-card {
    background-color: var(--win-grey) !important;
    
    /* Windows 95 "Outset" Window Border */
    border: 1px solid; 
    border-top-color: var(--win-white);
    border-left-color: var(--win-white);
    border-right-color: var(--win-dark-grey);
    border-bottom-color: var(--win-dark-grey);
    
    
    /* FIX 1: Remove top padding to make blue header flush */
    padding: 0 4px 4px 4px !important; /* Top padding is ZERO */
    
    border-radius: 0 !important;
    font-family: var(--default-font) !important;
}
    
/* Era Titles (The Blue Header) */
.era-title {
    font-family: var(--default-font) !important;
    font-size: 16px;
    font-weight: bold;
    
    /* FIX 2: Set Blue Background */
    background-color: var(--win-blue);
    color: var(--win-white) !important;
    
    /* FIX 3: Pull the bar left/right to hit the outer border */
    margin-left: -4px !important; 
    margin-right: -4px !important;
    
    /* Remove default margins that push it down */
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    
    /* Padding for the text inside the bar */
    padding: 4px; 
}

/* Ensure description is pushed down correctly */
.era-description {
    font-family: var(--default-font) !important;
    color: var(--win-text);
    font-size: 14px;
    padding: 0 4px;
    margin-top: 8px; /* Adds space below the blue bar */
}

/* Era Grid Items (The inner image thumbnails) */


.era-item-text {
    font-family: var(--default-font) !important;
    font-size: 12px;
}
/* -------------------------------------
   9. MAP PAGE STYLE (Windows 95)
   ------------------------------------- */

/* Force Win95 font on all map text (Keep this section) */
#text-first-room,
#text-second-room,
#text-third-room, 
#text-fourth-room {
    font-family: var(--default-font) !important;
    fill: var(--win-black) !important; 
    font-weight: normal !important;
}

/* Map Rooms (Keep this section) */
/* ... (existing map room/door styles) ... */


/* Map Description Box (The Modal/Legend Box) - The Outer Window */
/* -------------------------------------
   9. MAP PAGE STYLE (Windows 95)
   ------------------------------------- */

/* Map Description Box (The Outer Window Container) */
.map-description {
    /* Apply the standard Win95 Outset/Raised Window Border */
    border: 2px solid;
    border-top-color: var(--win-white);
    border-left-color: var(--win-white);
    border-right-color: var(--win-dark-grey);
    border-bottom-color: var(--win-dark-grey);
    
    margin-top: 50px;
    border-radius: 0 !important;
    background-color: var(--win-grey);
    
    /* FIX 1: Remove top padding to make H2 bar flush */
    padding: 0 4px 4px 4px !important; 
    
}

/* <h2> Title Bar (The Blue Header) */
.map-description h2 {
    /* FIX 2: Apply Blue Background and White Text */
    background-color: var(--win-blue) !important;
    color: var(--win-white) !important;
    
    /* FIX 3: Remove all default H2 spacing and stretch the bar */
    margin: 0 !important;
    margin-left: -4px !important; /* Pull left over container padding */
    margin-right: -4px !important; /* Pull right over container padding */
    
    /* FIX 4: Left Alignment and Internal Padding */
    text-align: left !important;
    padding: 8px 12px !important;
    
    font-family: var(--default-font) !important;
    font-size: 18px !important;
    font-weight: bold !important;
}

/* Paragraph text directly following the H2 bar */
.map-description p {
    /* FIX 5: Adjust top margin to separate text from the blue bar */
    margin-top: 8px !important; 
    margin-bottom: 0 !important; /* Keep paragraphs tight */
    padding: 0 8px; /* Internal left/right padding for readability */
}

/* Room Title (The Blue Header Bar) */
.room-title {
    /* FIX 1: Force Block display and full width for background fill */
    display: block !important;
    width: 100%; 
    
    /* FIX 2: Apply Blue Background and White Text */
    background-color: var(--win-blue) !important;
    color: var(--win-white) !important;
    
    /* FIX 3: Positioning and Alignment */
    margin-left: -4px !important;
    margin-right: -4px !important;
    margin-top: 0 !important; 
    margin-bottom: 0 !important; 
    
    text-align: left !important;
    padding: 8px 12px !important;
    
    /* Ensure font properties are carried over */
    font-family: var(--default-font) !important;
    font-weight: bold !important;
}
/* Room description text */
.room-description {
    padding: 12px 0 0 0; /* Add top padding to separate from blue bar */
}
/* -------------------------------------
   10. HOMEPAGE SECTIONS (W95 Panels)
   ------------------------------------- */

/* Apply the Full-Width Panel Container Style */
.introduction,
.link-documentation {
    /* Reset margins/padding from main.css to control spacing better */
    margin: 10rem  !important; /* Center content vertically, remove side margins */
    padding: 0 4px 4px 4px !important; /* Padding for the 3D bevel effect */
    
    background-color: var(--win-grey);
    
    /* Classic Outset Border (The Outer Window) */
    border: 2px solid;
    border-top-color: var(--win-white);
    border-left-color: var(--win-white);
    border-right-color: var(--win-dark-grey);
    border-bottom-color: var(--win-dark-grey);
    border-radius: 0 !important;
    
    /* Force full width stretch */
    max-width: 100% !important; 
}

/* 1. Introduction Section (Two Titles in One Blue Bar) */

/* The Blue Title Bar Wrapper (Parent of H1 and H2) */
.introduction-title {
    background-color: var(--win-blue);
    
    /* Use negative margins to stretch the bar flush with the viewport edges */
    margin-left: -4px !important; 
    margin-right: -4px !important;
    margin-top: 0px !important; /* Pull up to the top border */
    
    padding: 8px 12px !important; 
    
    /* Center the stacked titles */
    display: flex;
    flex-direction: column;
    align-items: left; 
    justify-content: left;
}

/* Style the individual titles inside the blue bar */
.introduction-title h1, 
.introduction-title h2 {
    color: var(--win-white) !important;
    font-family: var(--default-font) !important;
    font-weight: bold !important;
    text-align: left !important; 
    margin: 0 !important; 
    padding: 0 !important;
}
.introduction-title h1 {
    font-size: 20px !important; 
}
.introduction-title h2 {
    font-size: 16px !important;
}


/* 2. Link Documentation Section (Single Title Blue Bar) */

/* The Blue Title Bar Wrapper (Parent of H2) */
.documentation-title {
    background-color: var(--win-blue);
    
    /* Use negative margins to stretch the bar flush with the viewport edges */
    margin-left: -4px !important; 
    margin-right: -4px !important;
    margin-top: 0px !important; /* Pull up to the top border */
    
    padding: 8px 12px !important; 
    
    /* Ensure flex context for the H2 inside */
    display: flex;
    justify-content: left;
    align-items: left;
}

/* Style the H2 inside the blue bar */
.documentation-title h2 {
    color: var(--win-white) !important;
    font-family: var(--default-font) !important;
    font-weight: bold !important;
    text-align: left !important;
    margin: 0 !important;
    padding: 0 !important;
    font-size: 16px !important;
}


/* Content Body Styling (Below the blue bar) */
.introduction p,
.link-documentation p {
    /* Add internal padding to the content block and remove default H2 margin */
    padding: 16px 20px 8px 20px !important;
    margin-bottom: 0 !important;
    text-align: left !important;
}

/* Style the button link inside the Learn More section */
.link-documentation a {
    display: inline-block !important;
    margin: 16px 20px 20px 20px !important; 
    padding: 6px 12px !important;
    
    background-color: var(--win-grey) !important;
    color: var(--win-text) !important;
    
    /* Classic Outset Button Border */
    border: 2px solid;
    border-top-color: var(--win-white) !important;
    border-left-color: var(--win-white) !important;
    border-right-color: var(--win-dark-grey) !important;
    border-bottom-color: var(--win-dark-grey) !important;
    
    border-radius: 0 !important;
}
/* -------------------------------------
   11. ITEM PAGE STYLE (Windows 95)
   ------------------------------------- */

/* --- A. Main Content Boxes (.item-box, .table-box, .text-box) --- */

/* Apply the Sunken/Inset look to the content containers */
.item-box, 
.table-box, 
.text-box {
    background-color: var(--win-grey);
    
    /* Sunken/Inset Border Style */
    border: 2px solid;
    border-top-color: var(--win-dark-grey);
    border-left-color: var(--win-dark-grey);
    border-right-color: var(--win-white);
    border-bottom-color: var(--win-white);
    
    border-radius: 0 !important;
    box-sizing: border-box; 
    
    /* Override padding: item-box is set to 0 in main, keep others clean */
    padding: 1rem !important; 
    overflow: auto; /* Allow scrolling content */
}

/* Ensure image box (which holds the image flush) has correct padding reset */
.item-box {
    padding: 0 !important;
}

/* --- B. Table Styling (Data Presentation) --- */

/* The main table structure */
.table {
    border-top: 2px solid var(--win-dark-grey);
    border-left: 2px solid var(--win-dark-grey);
    border-right: 2px solid var(--win-white);
    border-bottom: 2px solid var(--win-white);
    background-color: var(--win-white) !important; /* White background for readability */
    color: var(--win-text);
    
    /* Ensure table text uses W95 font */
    font-family: var(--default-font) !important; 
    font-size: 14px;
}

/* Table Headers and Data Cells */
.table th,
.table td {
    border: 1px solid var(--win-dark-grey); /* Use darker border for grid lines */
    font-family: var(--default-font) !important;
    color: var(--win-text);
}

/* --- C. Buttons and Links (Outset 3D Button) --- */

/* Default State (Outset Look) */
.text-box button,
.card-footer a {
    /* ... (Keep existing default styles) ... */
    
    /* Classic Outset Button Border */
    box-shadow: inset 2px 2px 0px var(--win-white),
                inset -2px -2px 0px var(--win-dark-grey),
                2px 2px 0px var(--win-black); 

    background-color: var(--win-grey) !important;
    color: var(--win-text) !important;
    /* ... rest of default styling ... */
    transition: none;
}

/* FIX: Hover/Active State (Complex Depressed/Inset Look) */
.text-box button:hover,
.text-box button:active,
.card-footer a:hover,
.card-footer a:active {
    /* 1. Apply the Complex Inset Shadow from Figma (Provided in prompt) */
    box-shadow: -2px -2px 0 0 #F0F0F0 inset, 
                2px 2px 0 0 #262626 inset, 
                4px 4px 0 0 #7E7E7E inset, 
                -4px -4px 0 0 #B1B1B1 inset !important;
                
    /* 2. Depress the button visually */
    transform: translate(1px, 1px) !important;
    
    /* 3. Apply Active Colors */
    background-color: #E6E6E6 !important; 
    color: var(--win-black) !important; 
    
  
}
/* --- D. Modal/Image Viewer --- */

/* Ensure modal uses theme colors and sharp corners */
#imageModal .modal-content {
    background-color: var(--win-grey);
    box-shadow: none;
}

.navbar .layout-container .layout-options.active {
    background: var(--win-grey);
}